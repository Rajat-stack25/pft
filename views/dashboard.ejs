<%- include("partials/Header") -%>

<div class="navbar-expand-lg navbar navbar-light bg-light">
    <a href="/" class="navbar-brand">Expense Tracker</a>
    <ul class="navbar-nav ml-auto">
        <li class="nav-item">
            <a href="/add" class=" nav-link btn btn-light">Add New Expense</a>
        </li>
    </ul>
</div>


        <!-- Button to the "/add" route -->
        <div class="header cont text-center">
            <h1>Expense Tracker</h1>
            <!-- filters -->
            <div class="dropdown ">
                <button class="btn btn-dark btn-block dropdown-toggle" type="button" id="dropdownMenuButton"
                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Filter
                </button>
                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                    <a class="dropdown-item" href="/category">All Expenses</a>
                    <a class="dropdown-item" href="/category/food">Food</a>
                    <a class="dropdown-item" href="/category/living">Living</a>
                    <a class="dropdown-item" href="/category/entertainment">Entertainment</a>
                    <a class="dropdown-item" href="/category/transport">Transport</a>
                    <a class="dropdown-item" href="/category/utilities">Utilities</a>
                </div>

            </div>
        </div>

        <div class="main cont">

            <% if(typeof data===typeof []){ %>

                <% data.forEach((expense_object)=>{ %>
                    <div class="expense">
                        <div class="expense-name">
                            <h2>
                                <%= expense_object.name %>
                            </h2>
                        </div>
                        <div class="expense-amount">
                            <h3>
                                <%= expense_object.amount %>
                                    </h2>
                        </div>
                        <a href="/delete/<%=  expense_object._id %>"><i class="fa-solid fa-trash fa-sm"></i></a>
                    </div>
                    <% }) %>
                        <% }else{ %>
                            <div class="expense">
                                <h2>No Expenses Found</h2>
                            </div>
                            <% } %>
        </div>

        <%- include("partials/Footer") -%>